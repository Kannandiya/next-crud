import Link from 'next/link'

# Options

The `NextCrud` function accepts one argument which is an object with the following keys

#### paths

An array of CRUD paths to support. Each items should have the following shape:

```typescript
interface IPathsOptions {
  /**
   * Resource name of the path, eg: users
   */
  resourceName: string
  /**
   * Base path of the CRUD, eg: /api/users
   */
  basePath: string
  /**
   * Route types that should be catched
   */
  only?: RouteType[]
  /**
   * Route types that should not be catched
   */
  exclude?: RouteType[]
  formatResourceId?: (resourceId: string) => string | number
}
```

`only` and `exclude` can have the following values:

- `CREATE`
- `READ_ONE`
- `READ_ALL`
- `UPDATE`
- `DELETE`

_TypeScript users: you can import the following enum and use it in the array_

```javascript
import { RouteType } from '@premieroctet/next-crud'
```

#### adapterFactory

A required function that returns an instance of an adaptater class, see <Link href="/api-docs/adapters">this section</Link>. The function takes the matching path's resource name as a parameter.

#### formatResourceId

An optional function that allows you to format the retrieve resource id for the routes implying a single resource. By default it transforms number strings as numbers, else keep them as strings.

#### onRequest

An optional function, see <Link href="/api-docs/callbacks">this section</Link>

#### onSuccess

An optional function, see <Link href="/api-docs/callbacks">this section</Link>

#### onError

An optional function, see <Link href="/api-docs/callbacks">this section</Link>

#### middlewares

An optional array of functions, see <Link href="/api-docs/middlewares">this section</Link>

#### customHandlers

Sometimes you might want to add your own routes. This is possible thanks to the optional `customHandlers` property. It accepts an array of objects of the following shape:

```typescript
interface ICustomHandler<T, Q> {
  path: string | RegExp | Array<string | RegExp> // path to match (e.g: /(.*)/users/:id)
  handler: (params: ICustomHandlerParams<T, Q>) => void | Promise<void>
  methods?: string[] // request methods, defaults to ['GET']
}
```

#### config

You can pass a config object with the following shape:

```typescript
interface IHandlerConfig {
  pagination?: IPaginationConfig
}
```

##### pagination

The pagination config accepts the following shape:

```typescript
interface IPaginationConfig {
  perPage: number // default number of elements to display on each page
}
```
